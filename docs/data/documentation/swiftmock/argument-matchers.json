{"sections":[],"abstract":[{"type":"text","text":"This article talks about how Argument Matcher works."}],"seeAlsoSections":[{"title":"Usage","generated":true,"identifiers":["doc:\/\/SwiftMock\/documentation\/SwiftMock\/Introduction","doc:\/\/SwiftMock\/documentation\/SwiftMock\/Stubbing"]}],"metadata":{"roleHeading":"Article","modules":[{"name":"SwiftMock"}],"role":"article","title":"Argument Matchers"},"identifier":{"url":"doc:\/\/SwiftMock\/documentation\/SwiftMock\/Argument-Matchers","interfaceLanguage":"swift"},"kind":"article","hierarchy":{"paths":[["doc:\/\/SwiftMock\/documentation\/SwiftMock"]]},"primaryContentSections":[{"content":[{"anchor":"Overview","type":"heading","level":2,"text":"Overview"},{"inlineContent":[{"isActive":true,"type":"reference","identifier":"doc:\/\/SwiftMock\/documentation\/SwiftMock\/ArgumentMatcher"},{"text":" is a function that tests an argument for suitability. The ","type":"text"},{"type":"reference","identifier":"doc:\/\/SwiftMock\/documentation\/SwiftMock","isActive":true},{"type":"text","text":" package provides some pre-built "},{"type":"reference","identifier":"doc:\/\/SwiftMock\/documentation\/SwiftMock\/ArgumentMatcher","isActive":true},{"text":"s to get you started quickly.","type":"text"}],"type":"paragraph"},{"level":3,"type":"heading","anchor":"Any","text":"Any"},{"type":"paragraph","inlineContent":[{"type":"reference","identifier":"doc:\/\/SwiftMock\/documentation\/SwiftMock\/any()","isActive":true},{"type":"text","text":" - Argument Matcher which never checks the argument for its value and always returns "},{"type":"codeVoice","code":"true"},{"type":"text","text":". If you do not specify any argument matcher for the argument, then the default matcher will be "},{"isActive":true,"type":"reference","identifier":"doc:\/\/SwiftMock\/documentation\/SwiftMock\/any()"},{"type":"text","text":"."}]},{"code":["@Mock","public protocol AlbumService {","\tfunc getAlbum(id: UUID) async throws -> Album","}","","func test() async throws {","\tlet expected = Album(","\t\tuuid: UUID(),","\t\tname: \"I'mperfect\",","\t\tgroup: \"Ling Toshite Shigure\"","\t)","","\tlet mock = AlbumServiceMock()","","\twhen(mock.$getAlbum(uuid: any()))","\t\t.thenReturn(expected)","}"],"type":"codeListing","syntax":"swift"},{"level":3,"anchor":"Equal","text":"Equal","type":"heading"},{"type":"paragraph","inlineContent":[{"isActive":true,"identifier":"doc:\/\/SwiftMock\/documentation\/SwiftMock\/eq(_:)","type":"reference"},{"text":" is an argument matcher that checks the value of the argument and compares it to the value you pass to the matcher. You can use this matcher with any data type that implements the ","type":"text"},{"code":"Equitable","type":"codeVoice"},{"type":"text","text":" protocol."}]},{"syntax":"swift","code":["@Mock","public protocol AlbumService {","\tfunc getAlbum(id: UUID) async throws -> Album","}","","func test() async throws {","\tlet uuid = UUID() ","\tlet expected = Album(","\t\tuuid: uuid,","\t\tname: \"I'mperfect\",","\t\tgroup: \"Ling Toshite Shigure\"","\t)","","\tlet mock = AlbumServiceMock()","","\twhen(mock.$getAlbum(uuid: eq(uuid)))","\t\t.thenReturn(expected)","}"],"type":"codeListing"},{"level":3,"text":"Nullability","anchor":"Nullability","type":"heading"},{"type":"paragraph","inlineContent":[{"text":"The ","type":"text"},{"type":"reference","identifier":"doc:\/\/SwiftMock\/documentation\/SwiftMock","isActive":true},{"type":"text","text":" package contains two matchers that allow you to check an argument for nullability. "},{"type":"reference","isActive":true,"identifier":"doc:\/\/SwiftMock\/documentation\/SwiftMock\/isNil()"},{"type":"text","text":" only passes the test if "},{"type":"codeVoice","code":"nil"},{"type":"text","text":" is passed as an argument. "},{"identifier":"doc:\/\/SwiftMock\/documentation\/SwiftMock\/isNotNil()","type":"reference","isActive":true},{"type":"text","text":" only passes if the argument passed is not "},{"type":"codeVoice","code":"nil"},{"type":"text","text":"."}]},{"anchor":"Comporation","text":"Comporation","level":3,"type":"heading"},{"inlineContent":[{"text":"The ","type":"text"},{"identifier":"doc:\/\/SwiftMock\/documentation\/SwiftMock","type":"reference","isActive":true},{"type":"text","text":" package contains two matchers that allow you to check an argument using comparison operations. "},{"identifier":"doc:\/\/SwiftMock\/documentation\/SwiftMock\/moreThen(_:)","isActive":true,"type":"reference"},{"type":"text","text":" checks that the passed argument is strictly greater than the value passed to the matcher. "},{"identifier":"doc:\/\/SwiftMock\/documentation\/SwiftMock\/lessThan(_:)","isActive":true,"type":"reference"},{"type":"text","text":" checks that the passed argument is strictly less than the value passed to the matcher. You can only use these matchers for arguments of types that implement the "},{"type":"codeVoice","code":"Comparable"},{"text":" protocol.","type":"text"}],"type":"paragraph"},{"level":3,"type":"heading","text":"Matcher Composition","anchor":"Matcher-Composition"},{"type":"paragraph","inlineContent":[{"text":"You can use the ","type":"text"},{"type":"codeVoice","code":"&&"},{"type":"text","text":" and "},{"type":"codeVoice","code":"||"},{"type":"text","text":" operators to combine several matchers into one. As you can guess from the operators, "},{"type":"codeVoice","code":"&&"},{"type":"text","text":" creates a new matcher that checks the argument against two other matchers and if the argument matches "},{"inlineContent":[{"type":"text","text":"both"}],"type":"emphasis"},{"text":", then the argument passes the test of the new created matcher. ","type":"text"},{"code":"||","type":"codeVoice"},{"type":"text","text":" creates a new matcher that passes the test if the argument passes "},{"type":"emphasis","inlineContent":[{"type":"text","text":"any"}]},{"type":"text","text":" of the two passed matchers."}]},{"type":"paragraph","inlineContent":[{"text":"As with conditions, for the ","type":"text"},{"type":"codeVoice","code":"&&"},{"type":"text","text":" operator, if the first matcher was "},{"inlineContent":[{"text":"not passed","type":"text"}],"type":"strong"},{"type":"text","text":", then the second matcher "},{"inlineContent":[{"type":"text","text":"will not"}],"type":"strong"},{"type":"text","text":" be checked. In the case of the operator "},{"code":"||","type":"codeVoice"},{"type":"text","text":" if the first matcher was "},{"inlineContent":[{"type":"text","text":"passed"}],"type":"strong"},{"text":", then the second matcher ","type":"text"},{"inlineContent":[{"text":"will not","type":"text"}],"type":"strong"},{"type":"text","text":" be checked."}]},{"text":"Creating Argument Matcher","level":3,"anchor":"Creating-Argument-Matcher","type":"heading"},{"type":"paragraph","inlineContent":[{"type":"text","text":"To create your own "},{"identifier":"doc:\/\/SwiftMock\/documentation\/SwiftMock\/ArgumentMatcher","type":"reference","isActive":true},{"type":"text","text":", you need to declare a function with the name of the matcher. This function must return a new function with the type of the receiving argument and returning "},{"type":"codeVoice","code":"Bool"},{"type":"text","text":" (eg. "},{"type":"codeVoice","code":"(Album) -> Bool"},{"text":").","type":"text"}]},{"inlineContent":[{"type":"text","text":"The return function must take an argument, check whether it passes the test, and return "},{"code":"true","type":"codeVoice"},{"type":"text","text":" if the test passes or "},{"code":"false","type":"codeVoice"},{"type":"text","text":" if the test fails. Let’s look at some predefined "},{"isActive":true,"identifier":"doc:\/\/SwiftMock\/documentation\/SwiftMock\/ArgumentMatcher","type":"reference"},{"text":":","type":"text"}],"type":"paragraph"},{"syntax":"swift","code":["\/\/ Take any argument of any type and always test pass","func any<Arguments>() -> ArgumentMatcher<Arguments> {","\t{ _ in","\t\ttrue","\t}","}"],"type":"codeListing"},{"code":["\/\/\/ Take any argument of any Equitable type and return true if","\/\/\/ argument is equal to passed parameter to matcher.","public func eq<Arguments>(","\t_ value: Arguments",") -> ArgumentMatcher<Arguments> where Arguments: Equatable {","\t{ argument in","\t\targument == value","\t}","}"],"type":"codeListing","syntax":"swift"},{"type":"codeListing","syntax":"swift","code":["\/\/\/ Take two argument mathers and creates new one. New mather pass","\/\/\/ if argument pass both mathers.","public func &&<T>(","\t_ matcher0: @escaping ArgumentMatcher<T>, ","\t_ matcher1: @escaping ArgumentMatcher<T>",") -> ArgumentMatcher<T> {","\t{ argument in","\t\tmatcher0(argument) && matcher1(argument)","\t}","}"]}],"kind":"content"}],"schemaVersion":{"patch":0,"minor":3,"major":0},"variants":[{"paths":["\/documentation\/swiftmock\/argument-matchers"],"traits":[{"interfaceLanguage":"swift"}]}],"references":{"doc://SwiftMock/documentation/SwiftMock/isNotNil()":{"identifier":"doc:\/\/SwiftMock\/documentation\/SwiftMock\/isNotNil()","url":"\/documentation\/swiftmock\/isnotnil()","kind":"symbol","role":"symbol","fragments":[{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"kind":"identifier","text":"isNotNil"},{"text":"<","kind":"text"},{"text":"T","kind":"genericParameter"},{"kind":"text","text":">() -> "},{"kind":"typeIdentifier","text":"ArgumentMatcher","preciseIdentifier":"s:9SwiftMock15ArgumentMatchera"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"T"},{"kind":"text","text":"?>"}],"type":"topic","title":"isNotNil()","abstract":[{"type":"text","text":"Tests that the argument isn’t equal to "},{"type":"codeVoice","code":"nil"},{"text":".","type":"text"}]},"doc://SwiftMock/documentation/SwiftMock/isNil()":{"identifier":"doc:\/\/SwiftMock\/documentation\/SwiftMock\/isNil()","url":"\/documentation\/swiftmock\/isnil()","kind":"symbol","role":"symbol","fragments":[{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"kind":"identifier","text":"isNil"},{"text":"<","kind":"text"},{"text":"T","kind":"genericParameter"},{"kind":"text","text":">() -> "},{"kind":"typeIdentifier","text":"ArgumentMatcher","preciseIdentifier":"s:9SwiftMock15ArgumentMatchera"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"T"},{"kind":"text","text":"?>"}],"title":"isNil()","type":"topic","abstract":[{"type":"text","text":"Tests that the argument is equal to "},{"type":"codeVoice","code":"nil"},{"text":".","type":"text"}]},"doc://SwiftMock/documentation/SwiftMock/eq(_:)":{"identifier":"doc:\/\/SwiftMock\/documentation\/SwiftMock\/eq(_:)","url":"\/documentation\/swiftmock\/eq(_:)","kind":"symbol","role":"symbol","fragments":[{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"kind":"identifier","text":"eq"},{"text":"<","kind":"text"},{"kind":"genericParameter","text":"Arguments"},{"text":">(","kind":"text"},{"text":"Arguments","kind":"typeIdentifier"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"ArgumentMatcher","preciseIdentifier":"s:9SwiftMock15ArgumentMatchera"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"Arguments"},{"kind":"text","text":">"}],"type":"topic","title":"eq(_:)","abstract":[{"type":"text","text":"Tests that the argument is equal to the given value."}]},"doc://SwiftMock/documentation/SwiftMock/Stubbing":{"identifier":"doc:\/\/SwiftMock\/documentation\/SwiftMock\/Stubbing","url":"\/documentation\/swiftmock\/stubbing","kind":"article","role":"article","title":"Stubbing","type":"topic","abstract":[{"type":"text","text":"This article describes in detail the available possibilities of the stubbing method."}]},"doc://SwiftMock/documentation/SwiftMock/moreThen(_:)":{"identifier":"doc:\/\/SwiftMock\/documentation\/SwiftMock\/moreThen(_:)","url":"\/documentation\/swiftmock\/morethen(_:)","kind":"symbol","role":"symbol","fragments":[{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"kind":"identifier","text":"moreThen"},{"text":"<","kind":"text"},{"kind":"genericParameter","text":"T"},{"text":">(","kind":"text"},{"text":"T","kind":"typeIdentifier"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"ArgumentMatcher","preciseIdentifier":"s:9SwiftMock15ArgumentMatchera"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"T"},{"kind":"text","text":">"}],"type":"topic","title":"moreThen(_:)","abstract":[{"type":"text","text":"Tests that the argument is more than the given value."}]},"doc://SwiftMock/documentation/SwiftMock":{"role":"collection","kind":"symbol","type":"topic","abstract":[{"text":"A package to simplify writing tests by automating the process of creating mock objects.","type":"text"}],"url":"\/documentation\/swiftmock","identifier":"doc:\/\/SwiftMock\/documentation\/SwiftMock","title":"SwiftMock"},"doc://SwiftMock/documentation/SwiftMock/Introduction":{"identifier":"doc:\/\/SwiftMock\/documentation\/SwiftMock\/Introduction","url":"\/documentation\/swiftmock\/introduction","kind":"article","role":"article","title":"Introduction","type":"topic","abstract":[{"type":"text","text":"First steps in protocol mocking."}]},"doc://SwiftMock/documentation/SwiftMock/lessThan(_:)":{"identifier":"doc:\/\/SwiftMock\/documentation\/SwiftMock\/lessThan(_:)","url":"\/documentation\/swiftmock\/lessthan(_:)","kind":"symbol","role":"symbol","fragments":[{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"kind":"identifier","text":"lessThan"},{"text":"<","kind":"text"},{"kind":"genericParameter","text":"T"},{"text":">(","kind":"text"},{"text":"T","kind":"typeIdentifier"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"ArgumentMatcher","preciseIdentifier":"s:9SwiftMock15ArgumentMatchera"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"T"},{"kind":"text","text":">"}],"type":"topic","title":"lessThan(_:)","abstract":[{"type":"text","text":"Tests that the argument is less than the given value."}]},"doc://SwiftMock/documentation/SwiftMock/ArgumentMatcher":{"type":"topic","fragments":[{"text":"typealias","kind":"keyword"},{"text":" ","kind":"text"},{"text":"ArgumentMatcher","kind":"identifier"}],"role":"symbol","kind":"symbol","abstract":[{"text":"A function type that tests the value of an argument to a called function.","type":"text"}],"navigatorTitle":[{"kind":"identifier","text":"ArgumentMatcher"}],"url":"\/documentation\/swiftmock\/argumentmatcher","title":"ArgumentMatcher","identifier":"doc:\/\/SwiftMock\/documentation\/SwiftMock\/ArgumentMatcher"},"doc://SwiftMock/documentation/SwiftMock/any()":{"identifier":"doc:\/\/SwiftMock\/documentation\/SwiftMock\/any()","url":"\/documentation\/swiftmock\/any()","kind":"symbol","role":"symbol","fragments":[{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"kind":"identifier","text":"any"},{"text":"<","kind":"text"},{"kind":"genericParameter","text":"Arguments"},{"text":">() -> ","kind":"text"},{"preciseIdentifier":"s:9SwiftMock15ArgumentMatchera","text":"ArgumentMatcher","kind":"typeIdentifier"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"Arguments"},{"kind":"text","text":">"}],"title":"any()","type":"topic","abstract":[{"type":"text","text":"Any possible value is suitable."}]}}}